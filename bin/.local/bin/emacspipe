#!/bin/sh

temp_file="$(mktemp "${XDG_RUNTIME_DIR}/empipe.XXXXX.${1}")";

cleanup() {
    [ -w "${temp_file}" ] && rm -v "${temp_file}"
}

trap cleanup EXIT

tee >"${temp_file}" || exit 1

emacseditor "${temp_file}"
