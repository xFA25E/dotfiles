#!/bin/sh

temp_file="$(mktemp "${XDG_RUNTIME_DIR}/empipe.${1}.XXXXX")";

cleanup() {
    [ -w "${temp_file}" ] && rm -v "${temp_file}"
}

trap cleanup EXIT

tee >"${temp_file}" || exit 1

emw "${temp_file}"
