#!/bin/sh

url="${1:-$(rofi -dmenu -p "Url")}"

case "$(printf "video\naudio\nmusic" | rofi -dmenu -p "Download" -no-custom)" in
    video)
        if [ -n "${2}" ]; then
            tsp -L "${2}" ytdly "${url}"
        else
            tsp ytdly "${url}"
        fi
        ;;
    audio)
        if [ -n "${2}" ]; then
            tsp -L "${2}" ytdlay "${url}"
        else
            tsp ytdlay "${url}"
        fi
        ;;
    music)
        TSP_TITLE="${2}" ytdlam "${url}"
        ;;
esac
